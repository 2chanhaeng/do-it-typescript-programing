# 함수 표현식

- [함수 표현식](#함수-표현식)
  - [함수는 객체다](#함수는-객체다)
  - [함수 표현식의 모습](#함수-표현식의-모습)
  - [일등 함수](#일등-함수)
  - [표현식](#표현식)
  - [함수 표현식](#함수-표현식-1)
  - [함수 호출 연산자](#함수-호출-연산자)
  - [익명 함수](#익명-함수)

## 함수는 객체다

JS에서 함수는 객체이다.  
임의의 함수는 `Function` 이라는 클래스의 인스턴스이다.

```js
function func() {}

console.log(func instanceof Function); // true
```

그렇기 때문에 `Function` 클래스의 constructor를 통해 함수를 만들 수 있다.

```js
const add = new Function('a', 'b', 'return a + b');
console.log(add(1, 2)); // 3
```

## 함수 표현식의 모습

`Function` 클래스의 constructor 보다 함수 표현식을 사용하는 것이 더 일반적이다.
함수 표현식은 함수 선언문에서 이름을 제외하고 `function` 키워드를 이용해 함수를 표현한 식이다.

```js
const add = function (a, b) {
  return a + b;
};
```

## 일등 함수

함수형 프로그래밍이 가능하기 위해서는 일등 함수 기능을 제공해야한다.  
일등 함수란 함수가 일급 객체 즉, 함수를 값으로 다룰 수 있는 것을 의미한다.

> 여기서 일급(first-class)이란, 로마 시대의 일급 시민에서 나온 말이다. 로마 제국에서는 로마의 속국의 시민도 로마 시민과 동일한 권리를 가진 일급 시민으로 취급했다고 한다. 다양한 권리를 가진 시민을 일급 시민이라고 한 것처럼 다양한 기능을 가진 객체를 일급 객체라고 한다.

대부분의 경우 다음과 같은 조건을 만족하면 일급 객체라고 한다고 한다.

1. 변수에 담을 수 있다.
2. 인자로 전달할 수 있다.
3. 반환값으로 전달할 수 있다.
   JS에서는 함수를 변수에 담고, 인자로 전달하고, 반환할 수 있기 때문에 함수를 일급 객체로 취급한다고 할 수 있다.

## 표현식

프로그래밍에서 표현식이란 하나의 값으로 계산될 수 있는 구문을 의미한다.  
예를 들어 `1 + 1` 은 표현식이다.

> 표현식 expression 은 보통 실행문 statement 과 대비되는 개념으로 사용된다. 실행문은 무언가를 수행하고 끝나지만, 표현식은 어떤 값을 만들어 낸다. 다만, 둘은 완전 대비되는 개념이 아니다. 표현식은 실행문의 부분집합이기 때문이다. 예를 들어, `1 + 1` 은 표현식이면서 실행문이기도 하다. `2` 라는 값으로 계산될 수 있고, `1` 과 `1` 을 더하는 것을 실행시킬 수 있기 떄문이다. 하지만 `1 + 1;` 은 실행문이지만 표현식이 아니다. `1 + 1;` 은 값으로 평가될 수 없기 때문이다. 아무래도 비슷하다보니 헷갈리기 쉬운 개념이기에 나는 보통 다음과 같은 방법으로 구분한다.
>
> 1. 계산한 값을 변수에 대입할 수 있는가?
> 2. 문자열 리터럴을 `eval` 함수에 넣어서 실행할 수 있는가?
> 3. 괄호 안에 들어갈 수 있는가?
>    `1 + 1`는 표현식이기 때문에 변수에 대입할 수 있고, `eval` 함수에도 넣어 계산할 수 있고, 괄호 안에도 들어갈 수 있다. 하지만 `1 + 1;` 은 표현식이 아니다. 따라서 변수에 대입할 수 없고, `eval` 함수에도 넣을 수 없고, 괄호 안에도 들어갈 수 없다.

## 함수 표현식

함수 표현식은 함수로 평가, 계산되는 표현식을 의미한다.  
즉, 함수 표현식 구문을 계산하면 함수가 나온다.

```js
console.log(typeof function () {}); // function
```

## 함수 호출 연산자

어떤 변수가 함수 표현식을 가리키고 있다면, 함수 호출 연산자 `()` 를 붙여 함수를 호출할 수 있다.  
함수를 호출한다는 것은 함수 표현식의 본문을 실행한다는 의미이다.  
함수가 매개변수를 요구한다면, 함수 호출 연산자 안에 매개변수를 명시할 수 있다.  
뭔가 복잡해 보이지만 평소에 함수를 호출하는 방식을 풀어 설명한 것 뿐이다.

## 익명 함수

함수 표현식은 어떻게 보면 이름이 없는 함수이다.  
이런 함수를 익명 함수라고 한다.  
함수 표현식은 표현식이기에, 바로 값으로써 사용할 수 있다.

```js
console.log((function () { return 1; })()); // 1
console.log((function (a, b) { return a + b; })(1, 2)); // 3
console.log((function (a, b) { return a() + b(); })((function () {return 3}), (function () {return 4}))); // 7
```
