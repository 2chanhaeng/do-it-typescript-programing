# 함수형 프로그래밍이란?

- [함수형 프로그래밍이란?](#함수형-프로그래밍이란)
  - [함수형 프로그래밍](#함수형-프로그래밍)
  - [람다 대수](#람다-대수)
  - [조합 논리](#조합-논리)
    - [조합자](#조합자)
  - [카테고리 이론](#카테고리-이론)

## 함수형 프로그래밍

책에서는 함수형 프로그래밍을 다음과 같이 설명한다.  
함수형 프로그래밍은 선언형 프로그래밍을 기반으로 함수 조합, 모나드 조합 등을 이용해 코드를 설계 및 구현하는 기법이다.  
함수형 프로그래밍은 세가지 수학 이론에 기반을 둔다.

1. 람다 대수 Lambda Calculus
2. 조합 논리 Combinatory Logic
3. 카테고리 이론 Category Theory

## 람다 대수

람다 대수는 추상화, 함수 적용 등 논리 연산을 다루는 형식 체계이다.  
즉 실질적인 계산을 수행하는 것이 아니라, 계산의 구조를 표현하는 것이다.  
나도 이 때문에 이해하는데 많이 힘들었다.  
수학이라는게 원래 좀 뜬 구름 잡는 소리 같긴 한데 람다 대수는 그 중에서도 더욱 무슨 소리인지 이해할 수 힘든 얘기 중 하나인 것 같다.  
가끔 이런 뭘 말하고 싶은건지 조차 알기 힘든 말들이 종종 있다... 뭐 어쩔 수 있나 노투정킵고잉

함수형 프로그래밍에서는 람다 대수의 개념 중 다음을 차용했다.

1. 익명 함수
   익명 함수는 말 그대로 이름이 없는 함수이다.
   기본적으로 람다 대수의 함수는 익명 함수다.
2. 커링
   커링은 다인자 함수의 계산을 단일 인자 함수의 함수열로 바꾸는 것이다.
   예를 들어 $f: A \times B \rightarrow C$ 라는 다인자 함수가 있을 때, 커링을 적용하면 $f: A \rightarrow (B \rightarrow C)$ 라는 함수열로 바뀐다.
   즉, 함수의 값으로 함수가 반환된다는 뜻이다.
   JS 의 화살표 함수는 커링에 굉장히 특화되어 있다.
   파이썬 같은 경우 익명함수를 위한 `lambda` 키워드를 사용하는 방식은 `lambda a: lambda b: a + b` 와 같이 써야하는데 굉장히 불편하고 가독성이 떨어진다.
   그에 비해 JS 에서는 화살표 함수 표현식을 통해 `a => b => a + b` 와 같이 굉장히 직관적으로 사용할 수 있다.
   방금 전에 함수의 정의역과 공역을 표현할 때 사용한 $f: A \rightarrow (B \rightarrow C)$ 표기와 화살표 함수 표현식의 유사성에서도 그 직관성을 엿볼 수 있다.
   후술할 범주론에서는 함수를 추상화한 사상을 아예 화살표(arrow) 라고 부르기도 한다.

## 조합 논리

책에 Combinatory Logic 이 조합 논리라고 번역되어 있어 검색했더니 Combinational Logic 만 나와서 헷갈릴 뻔 했다.
조합 논리는 람다 대수와 마찬가지로 논리 연산을 다루는 형식 체계이다.  
하지만 람다 대수와는 다르게 변수를 최소화하고 함수의 조합을 사용해 표현한다.  
함수형 프로그래밍에서 조합 논리는 함수 간 조합의 이론적 배경이다.

### 조합자

조합 논리에서는 $I$, $S$ 와 $K$ 라는 세 가지 원시함수가 있다.  
$I$ 는 항등함수로, 다음과 같이 정의된다.
$(I\ x) = x$
$K$ 는 상수함수로, 다음과 같이 정의된다.  
$(K\ x\ y) = x$  
$S$ 는 다음과 같이 정의된다.  
$(S\ x\ y\ z) = (x\ z\ (y\ z))$
$x$와 $y$의 첫번째 인자로 $z$를 넘겨준 뒤 $x$에 $y$를 적용시켰다, 혹은 $z$라는 환경 안에서 $x$는 $y$에 적용됐다고 표현한다.  
이 중 $I$ 조합자는 $(S\ K\ K)$ 라는 식으로 표현할 수 있다.

$$
\begin{align}
((S\ K\ K)\ x) \\
  &= (S\ K\ K\ x) \\
  &= (K\ x\ (K\ x)) \\
  &= x
\end{align}
$$

이처럼 어떤 입력이 들어오든 서로 동일한 출력을 가지는 조합자 간을 외연성에 의해 동일하다(extensionally equal)고 한다.[^외연성]  
$I$ 가 $S$ 와 $K$ 로 표현되듯이, 모든 람다 대수의 표현식은 $S$ 와 $K$ 의 조합으로 표현될 수 있다.  
이 때, 계산할 수 있는 모든 함수는 람다 대수로 표현할 수 있으므로, 계산할 수 있는 모든 함수는 $S$ 와 $K$ 만의 조합으로 표현할 수 있다.

[^외연성]:
    외연성이란 둘 이상의 물체가 동일한 외형적 성질을 가지고 있을 때 해당 물체들이 같다고 판단하는 원리이다.
    예를 들어 집합론에서 외연성의 공리는 두 집합이 동일한 원소를 가지고 있을 때 두 집합이 같다고 판단하는 원리이다.
    $\forall A\,\forall B\,(\forall X\,(X\in A\iff X\in B)\implies A=B)$
    대비되는 개념으로 내재성이 있다.  
    내재성은 둘 이상의 물체가 정의 자체가 동일할 때 해당 물체들이 같다고 판단하는 원리이다.

## 카테고리 이론

카테고리 이론, 범주론은 수학적 구조를 추상화시킨 카테고리, 범주를 다루는 수학의 한 분야이다.  
위에서 람다 대수를 뜬 구름 잡는 소리라고 했는데 카테고리 이론은 뜬 구름의 끝판왕이라고 할 수 있는 것 중 하나라고 생각한다.  
수학의 본질은 추상화라고 생각하는데 그 추상화의 극치라고 할 수 있는 이론이다.  
진짜 쉽지 않다...
아무튼 함수형 프로그래밍에서는 범주론에서 모나드 등 다양한 개념을 차용했다.
